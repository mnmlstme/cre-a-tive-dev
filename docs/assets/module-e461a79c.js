var z=Object.defineProperty;var A=(b,p,m)=>p in b?z(b,p,{enumerable:!0,configurable:!0,writable:!0,value:m}):b[p]=m;var $=(b,p,m)=>(A(b,typeof p!="symbol"?p+"":p,m),m);console.log('Loading module "Kram_81736e8a_word-wrap"');function P({connectStore:b,initializeStore:p}){function m(n,o,s){const c=o-j(n);return s(c)}function j(n){return n.length-1+n.map(o=>o.length).reduce((o,s)=>o+s,0)}function E(n,o,s){const c=n.map((i,t)=>t===n.length-1?0:m(i,o,s)),e=c.reduce((i,t)=>i+t),l=i=>{let t=document.createElement("li");return t.textContent=i,t};return c.concat([e]).map(l)}function C(n,o){let s=[],c=o;for(const e of n)s.length&&e.length+1<=c?(s[s.length-1].push(e),c=c-e.length-1):(s.push([e]),c=o-e.length);return a("greedy",s)}function a(n,o,...s){return console.log(`=> ${n} Subproblem[${s.join(",")}] solved: `,o),o}function B(n,o,s){return c().lines;function c(e=0,l=o,i=[]){const t=n[e];if(e===n.length-1)return t.length+1<=l?{cost:0,lines:a("brute",[i.concat([t])],e,l)}:{cost:s(l),lines:a("brute",[i,[t]],e,l)};const r=c(e+1,o-t.length,[t]),f=s(l);if(t.length+1<=l){const h=c(e+1,l-t.length-1,i.concat([t]));if(h.cost<=r.cost+f)return h}return{cost:r.cost+f,lines:a("brute",[i].concat(r.lines),e,l)}}}function R(n,o,s){let c=n.map(()=>[]);const e=(t,r,f)=>a("memo",c[t][r]=f,t,r),l=(t,r)=>c[t][r];return i().lines;function i(t=0,r=o,f=[]){const h=l(t,r);if(h)return h;const u=n[t];if(t===n.length-1)return u.length+1<=r?e(t,r,{cost:0,lines:[f.concat([u])]}):e(t,r,{cost:s(r),lines:[f,[u]]});const g=i(t+1,o-u.length,[u]),k=s(r);if(u.length+1<=r){const v=i(t+1,r-u.length-1,f.concat([u]));if(v.cost<=g.cost+k)return e(t,r,v)}return e(t,r,{cost:g.cost+k,lines:[f].concat(g.lines)})}}function M(n,o,s){let c=[];for(let e=0;e<n.length;e++){c[e]=[];for(let l=e;l<n.length;l++){const i=l===n.length-1,t=o-j(n.slice(e,l+1));if(t<0)break;c[e][l]=i?0:s(t)}}return console.log("computeLineCosts: lc=",c),c}function T(n,o,s){const c=M(n,o,s);let e=[];const l=t=>t<0?0:e[t].cost,i=t=>t<0?[]:e[t].lines;for(let t=0;t<n.length;t++){let r=[];for(let u=t;u>=0&&c[u][t]!==void 0;u--)r[t-u]={i:u,cost:c[u][t]+l(u-1)};const f=r.reduce((u,g)=>u.cost<g.cost?u:g),h=n.slice(f.i,t+1);e[t]=a("tab",{lines:i(f.i-1).concat([h]),...f},t)}return e[n.length-1].lines}function O(n){const o=performance.now();let s=1;const c=n();let e=performance.now()-o;e<1?s=100:e<10&&(s=10);for(let l=1;l<s;l++)n();return e=performance.now()-o,{result:c,avgTime:e/s,iterations:s}}const y=class y extends HTMLElement{constructor(){super();let o=document.getElementById("word-wrap-template").content;this.attachShadow({mode:"open"}).appendChild(o.cloneNode(!0))}connectedCallback(){const o=this.getAttribute("width"),s=this.getAttribute("algo"),c=this.shadowRoot.getElementById("input"),e=this.shadowRoot.getElementById("output"),l=this.shadowRoot.getElementById("costing"),i=this.shadowRoot.getElementById("timing"),t=(this.textContent||c.textContent).trim();console.log("Text input:",t);const r=t.split(/\s+/);console.log("Words:",r);const f=y.algorithms[s]||T,h=o?parseInt(o):40,u=S=>S*S,g=O(()=>f(r,h,u)),k=g.result,v=E(k,h,u);o&&this.style.setProperty("--width-to-wrap",o),e.textContent=k.map(S=>S.join(" ")).join(`
`),l.replaceChildren(...v),i.textContent=g.iterations>1?`${g.avgTime}ms (avg over ${g.iterations} runs)`:`${g.avgTime}ms`}};$(y,"algorithms",{greedy:C,brute:B,memo:R,tab:T});let w=y;return customElements.define("word-wrap",w),{}}function H(b,p){let m={root:Object.assign({},p)};const E=P({connectStore:(C=["root"])=>{let a=m;return C.forEach(B=>a=a[B]),{root:a,get:B=>a[B],set:(B,R)=>a[B]=R,keys:()=>Object.keys(a)}}});return(C,a)=>{E[C-1].call(a)}}export{P as Program,H as mount};
